# Load asdf version manager
ASDF_PREFIX=$(brew --prefix asdf)
if [ -f "$ASDF_PREFIX/libexec/asdf.sh" ]; then
    # homebrew asdf installation
    source "$ASDF_PREFIX/libexec/asdf.sh"
else
    echo "asdf not found. Please install it first: brew install asdf"
    return 1
fi

# Add project-specific paths
PATH_add "${PWD}/build"

# Set Go workspace
export GOPATH="${PWD}/.go"
export GOCACHE="${PWD}/.go/cache"
export GOMODCACHE="${PWD}/.go/mod"

# Create .go directory if it doesn't exist
mkdir -p .go

# Load personal environment variables if they exist
if [ -f .envrc-personal ]; then
    source_env .envrc-personal
fi
